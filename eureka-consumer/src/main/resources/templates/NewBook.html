<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script>
        function add() {
            var title = $("#title").val();
            var categoryId=$("#categoryId").val();
            var summary = $("#summary").val();
            var uploadUser = $("#uploadUser").val();
            var createDate=$("#createDate").val();
            if(title==null||title==""){
                alert("书名不能为空");
                return;
            }else if(summary==null||summary==""){
                alert("图书摘要不能为空");
                return;
            }else if(uploadUser==null||uploadUser==""){
                alert("上传人不能为空");
                return;
            }else if(createDate==null||createDate==""){
                alert("上传时间不能为空");
                return;
            }
            $.ajax({
                "url":"http://localhost:8766/add",
                "dataType":"json",
                "data":{
                    "title":title,
                    "summary":summary,
                    "uploadUser":uploadUser,
                    "createDate":createDate,
                    "categoryId":categoryId
                },
                "type":"get",
                "success":function (result) {
                    if(result>0){
                        alert("添加成功");
                        show();
                    }else{
                        alert("添加失败");
                    }
                }
            })
        }
        function show() {
            window.location.href="show";
        }
    </script>
</head>
<body>
    <div>
        <h1>增加电子图书</h1>
        图书名称(*)：<input id="title" /><br />
        分类编号:<input id="categoryId"><br />
        图书摘要：<input id="summary" /><br />
          上传人: <input id="uploadUser" /><br />
        上传时间(*)：<input id="createDate" /><yyyy-MM-dd><br />
        <button type="button" onclick="add()">提交</button>
        <button type="button" onclick="show()">返回</button>
    </div>
</body>
</html>